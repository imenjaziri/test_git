/*
 * ihm.c
 *
 *  Created on: May 5, 2025
 *      Author: ThinkPad
 */

#include "ihm.h"
#define RX_BUFFER_SIZE 64
void IHM_Init(void)
{
    uint8_t rxBuffer[RX_BUFFER_SIZE];

    if (HAL_UART_Receive_IT(&huart2, rxBuffer, sizeof(rxBuffer)-1) != HAL_OK)
    {
        Error_Handler();
    }
};
char txBuffer[128];
uint8_t currentStep = 0;

void AfficherMenuPrincipal(void) {
    currentStep = 0;
    EnvoyerEtapeMenu();
}

void EnvoyerEtapeMenu(void) {
    switch (currentStep) {
        case 0:
            snprintf(txBuffer, sizeof(txBuffer), "************ Menu Principal ************\r\n");
            break;
        case 1:
            snprintf(txBuffer, sizeof(txBuffer), "Pour modifier LORA, écrire : lora\r\n");
            break;
        case 2:
            snprintf(txBuffer, sizeof(txBuffer), "Pour modifier WiFi, écrire : wifi\r\n");
            break;
        case 3:
            snprintf(txBuffer, sizeof(txBuffer), "Pour quitter, écrire : exit\r\n");
            break;
        default:
            return;
    }

    HAL_UART_Transmit_IT(&huart2, (uint8_t*)txBuffer, strlen(txBuffer));
    currentStep++;
}




/*void Menu_function(void){
sprintf(MSG, "Hello Dudes! Tracing X = %d\r\n", X);

printf("Hello, write your command\n here are the following commands\n");
printf("Pour modifier la valeur de Kc écrire : SET KC valeur");
printf("Pour modifier la valeur de Kp écrire : SET Kp valeur");
printf("Pour modifier la valeur de SF écrire : SET SF 7");
printf("Pour modifier la valeur de CRC écrire : SET CRC 3/4");
printf("Pour donner la qualité du sol écrire : SET SOL Argileux");
printf("Pour modifier la valeur de Kc écrire : GET KC valeur");
printf("Pour modifier la valeur de Kp écrire : GET Kp valeur");
printf("Pour modifier la valeur de SF écrire : GET SF 7");
printf("Pour modifier la valeur de CRC écrire :GET CRC 3/4");
printf("Pour donner la qualité du sol écrire : GET SOL Argileux");
};*/

